var x=Object.defineProperty,E=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var g=(e,t,a)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_=(e,t)=>{for(var a in t||(t={}))Y.call(t,a)&&g(e,a,t[a]);if(h)for(var a of h(t))B.call(t,a)&&g(e,a,t[a]);return e},f=(e,t)=>E(e,v(t));import{_ as P,d as w,P as S,r,o as p,c as m,f as i,w as o,k as $,F as y,g as H,i as M,j as b,t as d,e as c}from"./entry-31b90db0.mjs";const T=w({data(){return{tableData:[],pagination:{total:0,index:0,size:10}}},created(){this.loadData()},methods:{addPost(){this.$router.push("/admin/editor")},loadData(){S.getList({current:this.pagination.index,size:this.pagination.size}).then(e=>{this.tableData=e.records,this.tableData.forEach(t=>{if(t.fields instanceof Array){const a={};t.fields.forEach(s=>{a[s.name]=s.value}),t.fields=a}}),this.pagination.index=e.current,this.pagination.total=e.total})},handleSizeChange(e){this.pagination.size=e,this.loadData()},handleCurrentChange(e){this.pagination.index=e,this.loadData()},handleEdit(e,t){this.$router.push(`/admin/editor?cid=${t.cid}`)}}}),j=w(f(_({},T),{__name:"post-list",setup(e,{expose:t}){t();const a={formatTime:$};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}));function A(e,t,a,s,L,N){const l=r("el-table-column"),C=r("el-image"),z=r("el-tag"),D=r("el-link"),F=r("el-table"),k=r("el-pagination");return p(),m("div",null,[i(F,{data:e.tableData,height:"960",stripe:""},{default:o(()=>[i(l,{prop:"cid",label:"\u5E8F\u53F7",width:"80",align:"center"}),i(l,{label:"\u7F29\u7565\u56FE",prop:"title",width:"100"},{default:o(n=>[i(C,{src:n.row.fields.thumb,fit:"cover",style:{width:"180px",height:"60px"}},null,8,["src"])]),_:1}),i(l,{label:"\u6807\u7B7E",prop:"title",width:"160"},{default:o(n=>[(p(!0),m(y,null,H(n.row.tag,u=>(p(),M(z,{key:u.tid,class:"margin-xs"},{default:o(()=>[b(d(u.name),1)]),_:2},1024))),128))]),_:1}),i(l,{prop:"title",label:"\u6807\u9898",width:"320"},{default:o(n=>[i(D,{onClick:u=>e.handleEdit(n.$index,n.row)},{default:o(()=>[c("strong",null,d(n.row.title),1)]),_:2},1032,["onClick"])]),_:1}),i(l,{prop:"desc",label:"\u6458\u8981",width:"600"},{default:o(n=>[b(d(n.row.fields.desc),1)]),_:1}),i(l,{prop:"created",label:"\u521B\u5EFA\u65F6\u95F4",width:"110"},{default:o(n=>[c("span",null,d(s.formatTime(n.row.created*1e3,"YYYY/MM/DD HH:mm:ss")),1)]),_:1}),i(l,{prop:"modified",label:"\u66F4\u65B0\u65F6\u95F4",width:"110"},{default:o(n=>[c("span",null,d(s.formatTime(n.row.modified*1e3,"YYYY/MM/DD HH:mm:ss")),1)]),_:1})]),_:1},8,["data"]),i(k,{currentPage:e.pagination.index,"onUpdate:currentPage":t[0]||(t[0]=n=>e.pagination.index=n),"page-sizes":[10,20,30,40],"page-size":e.pagination.size,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])}var U=P(j,[["render",A]]);export{U as default};
