<!DOCTYPE html>
<html  data-head-attrs="">

<head >
  <title>分类"教程分享"下的文章 | 指尖魔法屋-醉月思的博客</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="keywords" content="thinkmoon,指尖魔法屋,醉月思的博客"><meta name="description" content="web前端开发工程师、面向高保真编程、总结与记录是两个极其优秀的学习习惯、对知识和技术保持敬畏之心！"><script async src="/ads.js" crossorigin="anonymous"></script><meta name="head:count" content="5"><link rel="modulepreload" href="/_nuxt/entry-4033bfcf.mjs" as="script" crossorigin><link rel="preload" href="/_nuxt/entry.7e762317.css" as="style"><link rel="modulepreload" href="/_nuxt/default-ab4b1d95.mjs" as="script" crossorigin><link rel="preload" href="/_nuxt/default.8dc03fb7.css" as="style"><link rel="modulepreload" href="/_nuxt/Footer-39451558.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/_pageIndex_-08429fca.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/PostList-693c3f84.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/asyncData-b0244fb3.mjs" as="script" crossorigin><link rel="prefetch" href="/_nuxt/background.36a7be78.jpg"><link rel="prefetch" as="script" href="/_nuxt/404-0c215052.mjs"><link rel="prefetch" as="script" href="/_nuxt/editor-3321b87d.mjs"><link rel="prefetch" as="script" href="/_nuxt/index-b882dfe7.mjs"><link rel="prefetch" as="script" href="/_nuxt/post-list-93b150a9.mjs"><link rel="prefetch" as="script" href="/_nuxt/admin-f89c7533.mjs"><link rel="prefetch" as="script" href="/_nuxt/index-dbca3f00.mjs"><link rel="prefetch" as="script" href="/_nuxt/index-dc59a107.mjs"><link rel="prefetch" as="script" href="/_nuxt/login-d8f7e58b.mjs"><link rel="prefetch" as="script" href="/_nuxt/_pageIndex_-4617af3f.mjs"><link rel="prefetch" as="script" href="/_nuxt/_cid_-40efc3b3.mjs"><link rel="prefetch" as="script" href="/_nuxt/_pageIndex_-38aaa266.mjs"><link rel="prefetch" as="script" href="/_nuxt/TagApi-b908df3a.mjs"><link rel="prefetch" as="script" href="/_nuxt/index-12cec95d.mjs"><link rel="prefetch" as="script" href="/_nuxt/auth-f948a8cb.mjs"><link rel="prefetch" as="script" href="/_nuxt/admin-1ee1b85d.mjs"><link rel="stylesheet" href="/_nuxt/entry.7e762317.css"><link rel="stylesheet" href="/_nuxt/default.8dc03fb7.css">
</head>

<body  data-head-attrs="">
  <div id="__nuxt"><!--[--><div><div class="top-menu" data-v-2d323d18><ul role="menubar" style="--el-menu-text-color:;--el-menu-hover-text-color:;--el-menu-bg-color:;--el-menu-hover-bg-color:;--el-menu-active-color:;" class="el-menu el-menu--horizontal" data-v-2d323d18><li class="el-menu-item" role="menuitem" tabindex="-1" style="" data-v-2d323d18><!--[--><!--[--> 指尖魔法屋 <!--]--><!--[--><!--]--><!--]--></li><li class="el-menu-item" role="menuitem" tabindex="-1" style="" data-v-2d323d18><!--[--><!--[--><a href="/category" class="" data-v-2d323d18> 分类 </a><!--]--><!--[--><!--]--><!--]--></li><li class="el-menu-item" role="menuitem" tabindex="-1" style="" data-v-2d323d18><!--[--><!--[--><a href="/tag" class="" data-v-2d323d18> 标签 </a><!--]--><!--[--><!--]--><!--]--></li></ul><div class="right" data-v-2d323d18><a class="el-link el-link--default" href="/login" data-v-2d323d18><!--v-if--><span class="el-link__inner"><!--[--><i class="el-icon pointer" style="font-size:26px;" data-v-2d323d18><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-2d323d18><path fill="currentColor" d="M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"></path></svg><!--]--></i><!--]--></span><!--v-if--></a></div></div><div class="app-container"><!--[--><div><!----><div class="blog-posts"><!--[--><div class="content-box"><div class="posts-default-img"><a href="/post/900" title="js使用装饰器实现操作前二次确认询问"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/微信小程序/1"><!--v-if--><span class="el-link__inner"><!--[-->微信小程序<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/javascript/1"><!--v-if--><span class="el-link__inner"><!--[-->javascript<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/uni-app/1"><!--v-if--><span class="el-link__inner"><!--[-->uni-app<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/前端/1"><!--v-if--><span class="el-link__inner"><!--[-->前端<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/vuejs/1"><!--v-if--><span class="el-link__inner"><!--[-->vuejs<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/900"><!--v-if--><span class="el-link__inner"><!--[-->js使用装饰器实现操作前二次确认询问<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text">装饰器是对类、函数、属性之类的一种装饰，可以针对其添加一些额外的行为。本文介绍的是，如何js方法装饰器，封装二次确认弹框操作，增加小伙伴的开发效率。</div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2020/08/03</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>923</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>11</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/895" title="TypeScript封装API，让代码编写柔润丝滑"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/typescript/1"><!--v-if--><span class="el-link__inner"><!--[-->typescript<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/vuejs/1"><!--v-if--><span class="el-link__inner"><!--[-->vuejs<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/895"><!--v-if--><span class="el-link__inner"><!--[-->TypeScript封装API，让代码编写柔润丝滑<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text">干前端工作，大致离不开三大任务：切图，对接口，写页面逻辑。说到对接口，那肯定是离不开网络请求API的封装的。我将网络请求的封装模式大致分为三个派系：</div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2020/07/17</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>1648</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>12</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/847" title="微信小程序页面改写组件教程"><div class="overlay"></div><!----></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/微信小程序/1"><!--v-if--><span class="el-link__inner"><!--[-->微信小程序<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/uni-app/1"><!--v-if--><span class="el-link__inner"><!--[-->uni-app<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/847"><!--v-if--><span class="el-link__inner"><!--[-->微信小程序页面改写组件教程<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2020/05/01</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>1030</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>4</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/606" title="scss/sass实现列表顺序加载动画"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/scss/1"><!--v-if--><span class="el-link__inner"><!--[-->scss<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/606"><!--v-if--><span class="el-link__inner"><!--[-->scss/sass实现列表顺序加载动画<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2019/12/04</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>686</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>5</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/466" title="uni-app对微信小程序云函数的适配"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/微信小程序/1"><!--v-if--><span class="el-link__inner"><!--[-->微信小程序<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/uni-app/1"><!--v-if--><span class="el-link__inner"><!--[-->uni-app<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/云函数/1"><!--v-if--><span class="el-link__inner"><!--[-->云函数<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/466"><!--v-if--><span class="el-link__inner"><!--[-->uni-app对微信小程序云函数的适配<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2019/10/22</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>1807</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>6</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/345" title="局域网DNS欺骗的艺术"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/网络空间安全/1"><!--v-if--><span class="el-link__inner"><!--[-->网络空间安全<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/345"><!--v-if--><span class="el-link__inner"><!--[-->局域网DNS欺骗的艺术<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2019/07/03</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>695</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>1</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/319" title="一些优秀的软件及网站推荐"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/软件分享/1"><!--v-if--><span class="el-link__inner"><!--[-->软件分享<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/319"><!--v-if--><span class="el-link__inner"><!--[-->一些优秀的软件及网站推荐<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2019/07/01</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>875</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>2</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/229" title="使用zsh让windows cmd变得性感又迷人"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/折腾/1"><!--v-if--><span class="el-link__inner"><!--[-->折腾<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/229"><!--v-if--><span class="el-link__inner"><!--[-->使用zsh让windows cmd变得性感又迷人<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2019/03/12</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>3786</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>2</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/219" title="在微信小程序里使用async/await异步API及浅谈各种异步"><div class="overlay"></div><!----></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/微信小程序/1"><!--v-if--><span class="el-link__inner"><!--[-->微信小程序<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/219"><!--v-if--><span class="el-link__inner"><!--[-->在微信小程序里使用async/await异步API及浅谈各种异步<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2019/03/06</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>2893</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>1</span></div></div></div></div></div></div><div class="content-box"><div class="posts-default-img"><a href="/post/15" title="（超详细）快速搭建一个简易微信小程序后台网站（上）"><div class="overlay"></div><div class="el-image" style=""><!--[--><div class="el-image__placeholder"></div><!--]--><!--v-if--></div></a></div><div class="posts-default-box"><div class="posts-default-title"><div class="post-entry-categories"><!--[--><span class="el-tag el-tag--light post-tag" style="background-color:;" rel="tag"><span class="el-tag__content"><!--[--><a class="el-link el-link--primary is-underline" href="/tag/微信开发/1"><!--v-if--><span class="el-link__inner"><!--[-->微信开发<!--]--></span><!--v-if--></a><!--]--></span><!--v-if--></span><!--]--></div><a class="el-link el-link--default post-title" href="/post/15"><!--v-if--><span class="el-link__inner"><!--[-->（超详细）快速搭建一个简易微信小程序后台网站（上）<!--]--></span><!--v-if--></a></div><div class="posts-default-content"><div class="posts-text"></div><div class="posts-default-info"><div class="left"><div class="post-author"><img height="16" src="https://blog.cdn.thinkmoon.cn/%E5%81%B7%E6%98%9F%E4%B9%9D%E6%9C%88%E5%A4%A9%E5%A4%B4%E5%83%8F.jpeg" style="border-radius:50%;" width="16"><a class="el-link el-link--default is-underline" href="https://www.thinkmoon.cn" target="_blank"><!--v-if--><span class="el-link__inner"><!--[--> 醉月思 <!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"></path></svg><!--]--></i><a class="el-link el-link--default is-underline" href="/category/教程分享/1"><!--v-if--><span class="el-link__inner"><!--[-->教程分享<!--]--></span><!--v-if--></a></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"></path></svg><!--]--></i><a>2018/11/16</a></div></div><div class="right"><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"></path></svg><!--]--></i><span>3605</span></div><div class="ico-warp"><i class="el-icon" style=""><!--[--><svg viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"></path></svg><!--]--></i><span>1</span></div></div></div></div></div></div><!--]--></div></div><!--]--></div><span></span></div><div class="footer" data-v-68ae0dac><span data-v-68ae0dac>Copyright © 2017-2022 指尖魔法屋. All rights reserved</span><span data-v-68ae0dac>POWERED BY thinkBlog · v0.1.5 · build-20220508-0205</span><span data-v-68ae0dac>网站持续搭建中，感谢关注</span><span data-v-68ae0dac>本站已顽强运行：蛮久了~</span><div data-v-68ae0dac><a class="el-link el-link--primary is-underline" href="http://beian.miit.gov.cn/" data-v-68ae0dac><!--v-if--><span class="el-link__inner"><!--[--> 粤ICP备17055617号 <!--]--></span><!--v-if--></a></div></div><!--]--></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return {data:{pinia:{},category:[{mid:b,name:c,count:l}],post:{records:[{cid:900,title:"js使用装饰器实现操作前二次确认询问",created:1596441660,modified:1600579137,text:"## 引言\r\n\r\n相信大家平常在开发过程中，经常会遇到此类需求。危险操作（如删除，退出登录）往往需要弹框提示给用户二次确认一下。本文介绍的是，如何使用js方法装饰器，封装二次确认弹框操作，增加小伙伴的开发效率。\r\n\r\n## 装饰器介绍\r\n\r\n![2020-08-03T08:01:10.png][1]\r\n\r\n装饰器是对类、函数、属性之类的一种装饰，可以针对其添加一些额外的行为。详细使用，自行百度！\r\n\r\n## 常规手段\r\n\r\nview\r\n\r\n```html\r\n\u003Cdiv class=\"bg-white flex justify-center\"\u003E\r\n\t\u003Cdiv class=\"btn-primary\" @click=\"clickMe\"\u003E点我\u003C\u002Fdiv\u003E\r\n\u003C\u002Fdiv\u003E\r\n```\r\n\r\njs\r\n\r\n```javascript\r\nclickMe() {\r\n    uni.showModal({\r\n      title: \"点击提示\",\r\n      content: \"你确定要点我？\",\r\n      success: (res) =\u003E {\r\n        if (res.confirm) {\r\n          console.log(\"点我干啥\");\r\n        }\r\n      },\r\n    });\r\n }\r\n```\r\n\r\n效果展示\r\n\r\n![装饰器点击效果](http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F装饰器点击效果.gif)\r\n\r\n\r\n\r\n## 装饰器写法\r\n\r\nconfirm.js\r\n\r\n```javascript\r\nfunction confirm(message: string, title: string, cancelFn = function() {}) {\r\n  return function(target: any, name: string, descriptor: any) {\r\n    const originFn = descriptor.value;\r\n    descriptor.value = function(rest: any) {\r\n      uni.showModal({\r\n        title: title,\r\n        content: message,\r\n        success: (res) =\u003E {\r\n          if (res.confirm) {\r\n            originFn.apply(this, rest);\r\n          }\r\n        },\r\n      });\r\n    };\r\n  };\r\n}\r\n```\r\n\r\nmain.js\r\n\r\n```javascript\r\n@confirm(\"你确定要点我？\",\"点击提示\")\r\n  clickMe() {\r\n    \u002F\u002F uni.showModal({\r\n    \u002F\u002F   title: \"点击提示\",\r\n    \u002F\u002F   content: \"你确定要点我？\",\r\n    \u002F\u002F   success: (res) =\u003E {\r\n    \u002F\u002F     if (res.confirm) {\r\n    \u002F\u002F       console.log(\"点我干啥\");\r\n    \u002F\u002F     }\r\n    \u002F\u002F   },\r\n    \u002F\u002F });\r\n    console.log(\"点我干啥\");\r\n  }\r\n```\r\n\r\n效果展示\r\n\r\n![装饰器点击效果](http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F装饰器点击效果.gif)\r\n\r\n\r\n\r\n  [1]: http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2020-08-03T08:01:10.png",authorId:a,comments:m,views:923,likes:11,tag:[{tid:e,name:f,order:a,count:a},{tid:29,name:"javascript",order:a,count:a},{tid:h,name:i,order:a,count:a},{tid:52,name:"前端",order:a,count:a},{tid:n,name:o,order:a,count:a}],category:c,category_id:b,fields:{desc:"装饰器是对类、函数、属性之类的一种装饰，可以针对其添加一些额外的行为。本文介绍的是，如何js方法装饰器，封装二次确认弹框操作，增加小伙伴的开发效率。",thumb:"http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2020-08-03T08:01:10.png"}},{cid:895,title:"TypeScript封装API，让代码编写柔润丝滑",created:1594974000,modified:1595294402,text:"![2020-07-17T08:19:34.png][1]\r\n\r\n## 引言\r\n\r\n干前端工作，大致离不开三大任务：切图，对接口，写页面逻辑。说到对接口，那肯定是离不开网络请求API的封装的。我将网络请求的封装模式大致分为三个派系：\r\n\r\n1. 无拘无束派 （只封装请求根地址，想咋请求就咋请求，最强的封装就是不封装）\r\n2. 拦截请求派 （使用一个拦截器配置请求行为和一些错误的拦截处理）\r\n3. 接口集成派（使用一个或多个文件，统一管理所有请求，约定不允许使用文件中未定义的接口）。\r\n\r\n我属于第三个派系，首先介绍一下各派的风格\r\n\r\n## 各派风格\r\n\r\n无拘无束派在快速成型方面略有优势，自由度也相对较高，但是维护起来并不容易，遇到接口改版的时候一部小心就会遗漏。\r\n\r\n![img](https:\u002F\u002Ftimgsa.baidu.com\u002Ftimg?image&quality=80&size=b9999_10000&sec=1594979834976&di=28e83b987d0093019b168e1b3cfe69e5&imgtype=0&src=http%3A%2F%2Fpic.yupoo.com%2Fniuguozhu_v%2FGpjU9ut9%2FTtozu.jpg)\r\n\r\n拦截请求派属于较优雅的一个派系，没有太多多余的内容，剩下的内容都是为解决问题而生。一般使用一个第三方请求库（如axios，flyio等）完成封装。大致像是这样\r\n\r\n```typescript\r\nimport { FlyError, FlyResponse } from \"flyio\";\r\nconst Fly = require(\"flyio\u002Fdist\u002Fnpm\u002Fwx\");\r\nlet fly = new Fly();\r\n\u002F\u002F 配置请求根地址\r\nfly.config.baseURL = process.env.VUE_APP_BASE_URL;\r\n\u002F\u002F 配置响应拦截器\r\nfly.interceptors.response.use(\r\n   \u002F\u002F 如果请求成功,即请求状态码2xx\r\n  (response: FlyResponse) =\u003E {\r\n    \u002F\u002F 并且操作成功\r\n    if (response.data.success) {\r\n       \u002F\u002F 返回响应数据体\r\n      return Promise.resolve(response.data);\r\n    } else {\r\n    \u002F\u002F 请求成功，但是操作失败，提示后端返回的msg，并抛出错误\r\n      uni.showToast({\r\n        icon: \"none\",\r\n        title: response.data.msg,\r\n      });\r\n      return Promise.reject(response.data);\r\n    }\r\n  },\r\n  \u002F\u002F 如果请求失败，即状态非2xx\r\n  (err: FlyError) =\u003E {\r\n    console.error(err);\r\n    \u002F\u002F 状态码为401，即跳转登录\r\n    if (err.status === 401) {\r\n      uni.reLaunch({\r\n        url: \"\u002Fpages\u002Flogin\",\r\n      });\r\n      return;\r\n    }\r\n    \u002F\u002F 其他错误状态码，就先弹个框吧\r\n    uni.showModal({\r\n      title: err!.request!.url + \"接口状态\" + err.status,\r\n      content: \"错误原因:\" + err.engine.response.msg,\r\n    });\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n```\r\n\r\n然后使用的时候就直接采用第三方的请求，如`fly.get()`,`fly.post`\r\n\r\n现在来介绍我所属的派系，我比上面更极端一点，除了封装请求拦截器暴露POST，GET外，还将所有的接口集中到一个API文件（太多了就按类型拆分，如user，shop，setting）\r\n\r\n## 我的实现\r\n\r\n基本请求文件http.ts，已引入上文提及的拦截器\r\n\r\n```typescript\r\nfunction GET(url: string, params = {}): Promise\u003CApiResponse\u003E {\r\n  let config = {\r\n    headers: {\r\n      Authorization: store.state.token,\r\n    }\r\n  };\r\n  return fly.get(url, params, config);\r\n}\r\nfunction POST(url: string, params = {}): Promise\u003CApiResponse\u003E {\r\n  let config = {\r\n    headers: {\r\n      Authorization: store.state.token,\r\n    }\r\n  };\r\n  return fly.post(url, params, config);\r\n}\r\nexport { GET, POST };\r\n```\r\n\r\napi.ts，负责集成Api\r\n\r\n```typescript\r\nimport { GET, POST } from \".\u002Fhttp\";\r\nexport default class Api {\r\n  \u002F**\r\n   * 登录接口\r\n   * @param params phone,password\r\n   *\u002F\r\n  login(params: object) {\r\n    return POST(\"\u002Fuser\u002Flogin\", params);\r\n  }\r\n  \u002F**\r\n   * 获取账户下所有店铺\r\n   *\u002F\r\n  getShop() {\r\n    return POST(\"\u002Fshop\u002FgetShopListByUserId\");\r\n  }\r\n  \u002F**\r\n   * 获取首页数据总览\r\n   * @param params {shopId}\r\n   *\u002F\r\n  getOverview(params: {}) {\r\n    return POST(\"\u002Fuser\u002Fhomepage\u002Fstatistics\", params);\r\n  }\r\n  \u002F**\r\n   * 根据店铺Id获取二级分类\r\n   * @param params {shopId}\r\n   *\u002F\r\n  getCommodityType(params: {}) {\r\n    return POST(\"\u002Fcnccommodity\u002Fcommodity_type\u002Fby_shop\", params);\r\n  }\r\n  \u002F**\r\n   * 分页获取商品列表\r\n   *\u002F\r\n  getCommodityList(params: {}) {\r\n    return POST(\"\u002Fcnccommodity\u002Fcommodity_by_page\", params);\r\n  }\r\n}\r\n```\r\n\r\n然后将Api文件，挂载到Vue的原型链。\r\n\r\n```javascript\r\nimport API from \".\u002Fplugins\u002Ffly\u002Fapi\";\r\nVue.prototype.$api = new API();\r\n```\r\n\r\n在组件中使用\r\n\r\n```javascript\r\n this.$api.login(this.loginForm).then((res) =\u003E {\r\n console.log(res)\r\n })\r\n```\r\n\r\n这样高度封装的好处是，任何一个接口要改内容，或者自定义功能，都可以只维护Api文件就行了。假设有一需求，要在获取商品之后提示用户”恭喜发财“，而这个接口又在多个页面中使用，我可以只做如下修改即可。\r\n\r\n```javascript\r\n \u002F**\r\n   * 分页获取商品列表\r\n   *\u002F\r\n  getCommodityList(params: {}) {\r\n    showToast(\"恭喜发财\")\r\n    return POST(\"\u002Fcnccommodity\u002Fcommodity_by_page\", params);\r\n  }\r\n```\r\n\r\n这是一个荒诞的需求，但是如果需求是部分请求超过1s就显示加载中呢？或者部分接口需要显示后端返回的msg呢？我可以这样做。\r\n\r\napi.ts\r\n\r\n```typescript\r\nupdatePw(params: object) {\r\n    return Post(\"\u002Fadminmanage\u002FupdatePassWard\", params, true);\r\n},\r\n```\r\n\r\nhttp.ts\r\n\r\n```typescript\r\nexport async function Post(api: string, params = {}, needToast = false) {\r\n  let data = await axios.post(api, params);\r\n  if (data.success && needToast) {\r\n    Message.success(data.msg);\r\n  }\r\n  return data;\r\n}\r\n```\r\n\r\n为了应对频繁更改的需求，我真是煞费苦心。\r\n\r\n## Typescript的加持\r\n\r\n上面一直在说接口封装的事情，好像对Typescript只字未提。虽然上面都使用了typescript但是都只是铺垫，真正让代码编写柔润丝滑的是声明文件。\r\n\r\n### 原型Api的声明\r\n\r\n上面我们已经将api挂载到vue的原型，但是typescript的作用并未完全发挥。typescript有两个强大的作用，1. 减少代码出错率 2. 提高代码书写效率。要启用ts强大的语法提示功能，我们需要先写一个d.t文件。\r\n\r\nvue-property.d.ts\r\n\r\n```typescript\r\nimport Vue from \"vue\";\r\nimport Api from \".\u002Fplugins\u002Ffly\u002Fapi\";\r\ndeclare module \"vue\u002Ftypes\u002Fvue\" {\r\n  interface Vue {\r\n    $api: Api;\r\n  }\r\n}\r\n```\r\n\r\n该文件的作用就是将Vue原型链上的$api类型设置为Api Class, 接下来我们来一起看看它的效果。\r\n\r\n![typescript推导api](http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Ftypescript推导api.gif)\r\n\r\nVs code贴心的语法提示，从注释提示到参数。无与伦比的代码护航能力几乎能让你无脑写请求。\r\n\r\n### 响应结构体的声明\r\n\r\n人不能满足现状，光有请求推导可还不够。我们还要让它推导响应结构体。假设项目后端返回的响应结构如下\r\n\r\n```json\r\n{\r\n    \"code\": 200,\r\n    \"success\": true,\r\n    \"msg\": \"操作成功\",\r\n    \"result\": {\r\n    }\r\n}\r\n```\r\n\r\n我们再创建一个响应的d.ts文件\r\n\r\nindex.d.ts\r\n\r\n```typescript\r\ninterface ApiResponse {\r\n  \u002F**\r\n   * code: 响应状态码\r\n   *\u002F\r\n  code: number;\r\n  \u002F**\r\n   * success: 操作是否成功标准\r\n   *\u002F\r\n  success: boolean;\r\n  \u002F**\r\n   * msg： 请求的附带信息\r\n   *\u002F\r\n  msg: string;\r\n  \u002F**\r\n   * result: 请求返回结果\r\n   *\u002F\r\n  result: Object | any;\r\n}\r\n```\r\n\r\n同时声明接口请求返回为ApiResponse\r\n\r\n```typescript\r\nfunction GET(url: string, params = {}): Promise\u003CApiResponse\u003E {\r\n  let config = {\r\n    headers: {\r\n      Authorization: store.state.token,\r\n    }\r\n  };\r\n  return fly.get(url, params, config);\r\n}\r\nfunction POST(url: string, params = {}): Promise\u003CApiResponse\u003E {\r\n  let config = {\r\n    headers: {\r\n      Authorization: store.state.token,\r\n    }\r\n  };\r\n  return fly.post(url, params, config);\r\n}\r\nexport { GET, POST };\r\n\r\n```\r\n\r\n看看语法提示效果\r\n\r\n![ts推导响应体](http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Fts推导响应体.gif)\r\n\r\n同时如果有分页，还可以声明分页的结构体。总之，声明文件写得好，效率提高绝对少不了。\r\n\r\n## 后记\r\n\r\nts给我一种以前写C++的感觉，需要先写声明文件`.h`然后在写`.cpp`，这样做的好处是约束你的代码，让你的代码更规范。不过，缺点就是声明文件有种给自己找事的感觉，不过我依旧强烈建议在前端项目下使用ts。这在后期的维护是绝对有利的，而且也并非所有文件都需要写声明文件，要不要写声明文件，取决于你的实现方式。比如本文中的Api文件就没写声明文件，照样可以类型推导，语法提示。祝我早日实现无脑编码~\r\n\r\n\r\n  [1]: http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2020-07-17T08:19:34.png",authorId:a,comments:8,views:1648,likes:12,tag:[{tid:60,name:"typescript",order:a,count:a},{tid:n,name:o,order:a,count:a}],category:c,category_id:b,fields:{desc:"干前端工作，大致离不开三大任务：切图，对接口，写页面逻辑。说到对接口，那肯定是离不开网络请求API的封装的。我将网络请求的封装模式大致分为三个派系：",thumb:"http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2020-07-17T08:19:34.png"}},{cid:847,title:"微信小程序页面改写组件教程",created:p,modified:p,text:"## 为什么需要？\r\n\r\n微信小程序里面页面与自定义组件的区别较大，而页面的可复用程度太低了。要么就是跳转页面，要么就是copy代码。如果我们要增加代码的可复用性，就可以借用Vue组件的思想，将页面改写为自定义组件。\r\n\r\n## 结构对比\r\n两者的视图文件，样式文件没有什么区别。主要区别最大的就是js文件，我们首先来看一下两者的结构。\r\n\r\n### page.js\r\n```javascript\r\npage({\r\n  \u002F\u002F 数据内容\r\n  data:{},\r\n  \u002F\u002F 生命周期函数\r\n  onLoad(){},\r\n  \u002F\u002F 一些自定义函数\r\n  someMethods(){}\r\n})\r\n```\r\n\r\n### componet.js\r\n```javascrpt\r\ncomponet({\r\n  \u002F\u002F 预设属性\r\n  properties: {},\r\n  \u002F\u002F 数据内容\r\n  data: {},\r\n  \u002F\u002F组件所在页面生命周期\r\n  pageLifetimes: {},\r\n  \u002F\u002F 生命周期函数-挂载\r\n  attached: function() {\r\n    \u002F\u002F 在组件实例进入页面节点树时执行\r\n  },\r\n  \u002F\u002F 生命周期函数-卸载\r\n  detached: function() {\r\n    \u002F\u002F 在组件实例被从页面节点树移除时执行\r\n  },\r\n  \u002F\u002F 自定义函数写结构里面\r\n  methods:{\r\n    someMethods(){}\r\n  }\r\n})\r\n```\r\n\r\n我们可以看到，两者的基本相似，大同小异。所以改写起来就特别方便啦~\r\n\r\n1. 将page改为componet\r\n2. 适配生命周期函数，例如将页面onLoad()函数改写为组件的attached()函数\r\n3. 将自定义函数someMethods()写到Componet的methods里面\r\n",authorId:a,comments:q,views:1030,likes:m,tag:[{tid:e,name:f,order:a,count:a},{tid:h,name:i,order:a,count:a}],category:c,category_id:b,fields:{}},{cid:606,title:"scss\u002Fsass实现列表顺序加载动画",created:1575435540,modified:1592912944,text:"## 效果展示\r\n\r\n![列表顺序加载动画][1]\r\n\r\n本文会讲述如何使用scss\u002Fsass在微信小程序中实现列表顺序加载的动画。\r\n\r\n## 所用的css特性\r\n\r\n### CSS animations\r\n\r\n\u003E CSS animations 使得可以将从一个CSS样式配置转换到另一个CSS样式配置。动画包括两个部分:描述动画的样式规则和用于指定动画开始、结束以及中间点样式的关键帧。\r\n\r\n相较于传统的脚本实现动画技术，使用CSS动画有三个主要优点：\r\n\r\n1. 能够非常容易地创建简单动画，你甚至不需要了解JavaScript就能创建动画。\r\n2. 动画运行效果良好，甚至在低性能的系统上。渲染引擎会使用跳帧或者其他技术以保证动画表现尽可能的流畅。而使用JavaScript实现的动画通常表现不佳（除非经过很好的设计）。\r\n3. 让浏览器控制动画序列，允许浏览器优化性能和效果，如降低位于隐藏选项卡中的动画更新频率。\r\n\r\n`css animations`的属性和子属性见[https:\u002F\u002Fdeveloper.mozilla.org\u002Fzh-CN\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Animations\u002FUsing_CSS_animations#%E9%85%8D%E7%BD%AE%E5%8A%A8%E7%94%BB](https:\u002F\u002Fdeveloper.mozilla.org\u002Fzh-CN\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Animations\u002FUsing_CSS_animations#%E9%85%8D%E7%BD%AE%E5%8A%A8%E7%94%BB)\r\n\r\n可主要分为两大部分，动画的实现形式和动画的属性规则。\r\n\r\n以下仅列出本文所用的属性。\r\n\r\n### animation-timing-function\r\nanimation-timing-function 规定动画的速度曲线。\r\n\r\n![速度曲线][2]\r\n\r\n### animation-delay\r\n顾名思义，设置动画的持续时间，单位秒\r\n\r\n### animation-fill-mode\r\n\u003E animation-fill-mode 属性规定动画在播放之前或之后，其动画效果是否可见。\r\n\r\n![animation-fill-mode][3]\r\n\r\n### 使用keyframes定义动画序列\r\n\r\nkeyframes就是一个描述关键帧的属性，通过使用@keyframes建立两个或两个以上关键帧来实现。每一个关键帧都描述了动画元素在给定的时间点上应该如何渲染。\r\n\u003E 因为动画的时间设置是通过CSS样式定义的，关键帧使用percentage来指定动画发生的时间点。0%表示动画的第一时刻，100%表示动画的最终时刻。因为这两个时间点十分重要，所以还有特殊的别名：from和to。这两个都是可选的，若from\u002F0%或to\u002F100%未指定，则浏览器使用计算值开始或结束动画。\r\n\r\n### 示例\r\n\r\n```css\r\n@keyframes list {\r\n\t\t0% {\r\n\t\t\ttransform: scale(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t}\r\n\t}\r\n```\r\n如上代码所示，定义了一个@keyframe名字叫list，在动画开始时使用缩放0%，结束时缩放100%。那么它在整个动画的过程中，便会根据浏览器的性能展示一个从0%-100%渐变的动画。是不是根据有点意思？当然，你也可包含设置任何额外可选的关键帧，描述动画开始和结束之间的状态，比如45%。\r\n\r\n![animation.gif][4]\r\n\r\n至此我们已经实现了组件显示时逐渐放大的效果\r\n\r\n\r\n## 所用的scss特性\r\n\r\n以下为简介，详细内容请转至官方文档\r\n\r\n### 嵌套规则 (Nested Rules)\r\n\r\n\u003E scss\u002FSass允许将一个 CSS 样式嵌套进另一个样式中，内层样式仅适用于外层样式的选择器范围内。\r\n\r\n### 引用父选择器:&\r\n\r\n\u003E 你可以 & 字符来明确地表示插入指定父选择器。\r\n\r\n### 变量: $（Variables: $ ）\r\n\r\n以美元符开头，可当变量使用。\r\n\r\n### @mixin混入指令 (Mixin Directives)\r\n\r\n\u003E 混入(mixin)允许您定义可以在整个样式表中重复使用的样式，而避免了使用无语意的类（class），比如 .float-left。混入(mixin)还可以包含所有的CSS规则，以及任何其他在Sass文档中被允许使用的东西。\r\n他们甚至可以带arguments，引入变量，只需少量的混入(mixin)代码就能输出多样化的样式。\r\n\r\n### 插值：#{}（Interpolation: #{}）\r\n\r\n\u003E 你可以通过 #{} 插值语法在选择器和属性名中使用 SassScript 变量：\r\n\r\n### @for\r\n\r\n顾名思义，循环，要留意一下`to`和`through`的区别\r\n\r\n### 引用混合样式:@include （Including a Mixin: @include）\r\n\r\n## 实现方式\r\nwxml文件\r\n```xml\r\n\u003Cview class=\"list__item\"\u003E\r\n\u003Cview\u003E...\u003C\u002Fview\u003E\r\n\u003C\u002Fview\u003E\r\n```\r\n\r\n编译前的scss\u002Fsass\r\n```css\r\n\t.list {\r\n\t\t&__item {\r\n\t\t\tanimation: list 1s ease both;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes list {\r\n\t\t0% {\r\n\t\t\ttransform: scale(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t}\r\n\t}\r\n\r\n\t@mixin item($num) {\r\n\t\t$waitTime: ($num)*0.2;\r\n\t\tanimation-delay: #{$waitTime}s;\r\n\t}\r\n\r\n\t@for $i from 1 through 7 {\r\n\t\t.list__item:nth-child(#{$i}) {\r\n\t\t\t@include item($i);\r\n\t\t}\r\n\t}\r\n```\r\nless版\r\n```css\r\n\u002F\u002F list动画\r\n\t.list__item {\r\n\t\tanimation: list .8s ease both\r\n\t}\r\n\r\n\t@keyframes list {\r\n\t\t0% {\r\n\t\t\ttransform: scale(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t}\r\n\t}\r\n\r\n\t.generate-columns(7);\r\n\r\n\t.generate-columns(@n, @i: 1) when (@i =\u003C @n) {\r\n\t\t.list__item:nth-child(@{i}) {\r\n\t\t\tanimation-delay: @i * 0.2;\r\n\t\t}\r\n\r\n\t\t.generate-columns(@n, (@i + 1));\r\n\t}\r\n\r\n```\r\n编译后的css\r\n```css\r\n.list__item {\r\n  -webkit-animation: list 1s ease both;\r\n          animation: list 1s ease both;\r\n}\r\n@-webkit-keyframes list {\r\n0% {\r\n    -webkit-transform: scale(0);\r\n            transform: scale(0);\r\n}\r\n100% {\r\n    -webkit-transform: scale(1);\r\n            transform: scale(1);\r\n}\r\n}\r\n@keyframes list {\r\n0% {\r\n    -webkit-transform: scale(0);\r\n            transform: scale(0);\r\n}\r\n100% {\r\n    -webkit-transform: scale(1);\r\n            transform: scale(1);\r\n}\r\n}\r\n.list__item:nth-child(1) {\r\n  -webkit-animation-delay: 0.2s;\r\n          animation-delay: 0.2s;\r\n}\r\n.list__item:nth-child(2) {\r\n  -webkit-animation-delay: 0.4s;\r\n          animation-delay: 0.4s;\r\n}\r\n.list__item:nth-child(3) {\r\n  -webkit-animation-delay: 0.6s;\r\n          animation-delay: 0.6s;\r\n}\r\n.list__item:nth-child(4) {\r\n  -webkit-animation-delay: 0.8s;\r\n          animation-delay: 0.8s;\r\n}\r\n.list__item:nth-child(5) {\r\n  -webkit-animation-delay: 1s;\r\n          animation-delay: 1s;\r\n}\r\n.list__item:nth-child(6) {\r\n  -webkit-animation-delay: 1.2s;\r\n          animation-delay: 1.2s;\r\n}\r\n.list__item:nth-child(7) {\r\n  -webkit-animation-delay: 1.4s;\r\n          animation-delay: 1.4s;\r\n}\r\n```\r\n![列表顺序加载动画效果展示](https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Flist.gif)\r\n\r\n## 参考资料\r\n\r\n[使用CSS动画](https:\u002F\u002Fdeveloper.mozilla.org\u002Fzh-CN\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Animations\u002FUsing_CSS_animations)\r\n[CSS3 animation-timing-function 属性](https:\u002F\u002Fwww.w3school.com.cn\u002Fcssref\u002Fpr_animation-timing-function.asp)\r\n[sass中文文档](https:\u002F\u002Fwww.sasscss.com\u002Fdocs\u002F)\r\n\r\n  [1]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Flist.gif\r\n  [2]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-12-04T03:58:02.png\r\n  [3]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-12-04T04:02:50.png\r\n  [4]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Fanimation.gif",authorId:a,comments:a,views:686,likes:r,tag:[{tid:44,name:"scss",order:a,count:a}],category:c,category_id:b,fields:{thumb:"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-12-04T04:02:50.png"}},{cid:466,title:"uni-app对微信小程序云函数的适配",created:1571716380,modified:1621142849,text:"## 引言\r\n\r\n熟悉uni-app的人应该都知道，uni-app并未对微信小程序云函数（本文统称云函数）进行相应的适配。但是，如果我们在某些业务场景的下需要使用云函数呢？我们知道，云函数可以复制到微信开发者工具，这样的话我们不得不每次编译一次就手动复制一次，不得不说麻烦至极。本文就问题做出以下解决方案。\r\n\r\n### 本文环境\r\n1. Hbuilder X\r\n\r\n![Hbuilder X版本][1]\r\n\r\n2. 微信开发者工具\r\n\r\n![微信开发者工具版本][2]\r\n\r\n## 创建云函数目录\r\n\r\n首先，我们需要在uni-app项目文件夹下，创建一个云函数目录，路径随意，我这里是`functions`。然后先随便在里面放一些文件，这里以`new_file.css`为例。\r\n\r\n## 修改`manifest.json`\r\n\r\n在uni-app根目录下，修改`manifest.json`中的微信小程序项，结构如下\r\n```json\r\n\"mp-weixin\" : {\r\n        \u002F* 小程序特有相关 *\u002F\r\n        \"appid\" : \"wxd7de467f6e6cf741\",\r\n        \"cloudfunctionRoot\": \".\u002Ffunctions\u002F\", \u002F\u002F 这一行就是标记云函数目录的字段\r\n        \"setting\" : {\r\n            \"urlCheck\" : false\r\n        },\r\n        \"usingComponents\" : true\r\n    }\r\n```\r\n\r\n## 编写`vue.config.js`\r\n\r\n1. 我们在项目根目录创建`vue.config.js`文件\r\n2. 写入以下内容（如路径不一样请做相应适配）\r\n\r\n```javascript\r\nconst path = require('path')\r\nconst CopyWebpackPlugin = require('copy-webpack-plugin')\r\n\r\nmodule.exports = {\r\n\tconfigureWebpack: {\r\n\t\tplugins: [\r\n\t\t\tnew CopyWebpackPlugin([{\r\n\t\t\t\tfrom: path.join(__dirname, 'cloudFunctions'),\r\n\t\t\t\tto: path.join(__dirname, 'unpackage\u002Fdist', process.env.NODE_ENV === 'production' ? 'build' : 'dev', process.env\r\n\t\t\t\t\t.UNI_PLATFORM, 'cloudFunctions')\r\n\t\t\t}])\r\n\t\t]\r\n\t}\r\n}\r\n\r\n```\r\n3. 编译运行\r\n\r\n发现提示如下内容\r\n\r\n![提示内容][3]\r\n\r\n说明未安装`copy-webpack-plugin`插件，我们手动安装一下。\r\n```shell\r\nnpm install -save copy-webpack-plugin\r\n```\r\n\u003E TIPS: 截至2020.6.4， uni-app暂不支持copy-webpack-plugin 6.0版，请安装5.0版\r\n\r\n![安装copy-webpack-plugin][4]\r\n\r\n然后编译运行，发现微信开发者工具里面出现以下内容。\r\n\r\n![微信开发者工具里面的内容][5]\r\n\r\n---\r\n\r\n截止目前，已打通Hbuilder X到微信开发者工具的自动复制，即已解决本文的核心内容。以下为进一步测试。\r\n\r\n## 创建云函数\r\n\r\n\u003E 我们在云函数根目录上右键，在右键菜单中，可以选择创建一个新的 Node.js 云函数，我们将该云函数命名为check。开发者工具在本地创建出云函数目录和入口 index.js 文件，同时在线上环境中创建出对应的云函数。创建成功后，工具会提示是否立即本地安装依赖，确定后工具会自动安装 wx-server-sdk。我们会看到以下内容。\r\n\r\n创建好后将其同步复制到uni-app项目，即可为以后自动同步行方便，又可避免在输出文件夹中云函数的意外丢失。至此，相关文件编写工作转至`Hbuilder X`，云函数上传部署依旧在微信开发者工具。\r\n\r\n![云函数模板内容][6]\r\n\r\n## 编写云函数\r\n\r\n默认的云函数只是一个返回用户基本数据的内容，我们将其修改至满足我们的业务需求，以内容安全云调用为例。\r\n\r\n在云函数文件中写入以下内容\r\n\r\n```javascript\r\n\u002F\u002F 云函数入口文件\r\nconst cloud = require('wx-server-sdk')\r\n\r\ncloud.init()\r\n\r\n\u002F\u002F 云函数入口函数\r\nexports.main = async(event, context) =\u003E {\r\n  try {\r\n    console.log('待检测文本:' + event.content);\r\n    let result = await cloud.openapi.security.msgSecCheck({\r\n      content: event.content\r\n    })\r\n    console.log('result:' + JSON.stringify(result));\r\n\r\n    if (result && result.errCode.toString() === '87014') {\r\n      return {\r\n        code: 300,\r\n        msg: '内容含有违法违规内容',\r\n        data: result\r\n      }\r\n    } else {\r\n      return {\r\n        code: 200,\r\n        msg: 'ok',\r\n        data: result\r\n      }\r\n    }\r\n\r\n  } catch (err) {\r\n    if (err.errCode.toString() === '87014') {\r\n      return {\r\n        code: 300,\r\n        msg: '内容含有违法违规内容',\r\n        data: err\r\n      }\r\n    }\r\n    return {\r\n      code: 400,\r\n      msg: '调用security接口异常',\r\n      data: err\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## 权限申明\r\n\r\n![云函数config权限声明][7]\r\n\r\n如上图，在函数目录下，创建一个`config.json`,文档说会自动创建，但是我实际操作时未自动创建。`config.json`内容如下。\r\n\r\n```json\r\n{\r\n\t\"permissions\": {\r\n\t\t\"openapi\": [\r\n\t\t\t\"security.msgSecCheck\"\r\n\t\t]\r\n\t}\r\n}\r\n\r\n```\r\n\r\n然后在函数目录右键，上传并部署。\r\n\r\n## 小程序调用云函数\r\n\r\n### App.vue\r\n\r\n```javascript\r\n\u003Cscript\u003E\r\n  export default {\r\n    onLaunch() {\r\n      wx.cloud.init();\r\n    }\r\n  }\r\n\u003C\u002Fscript\u003E\r\n```\r\n### index.vue\r\n\r\n```javascript\r\nlet res = await wx.cloud.callFunction({\r\n          name: 'checkText',\r\n          data: {\r\n            \"content\": this.displayString\r\n          }\r\n        })\r\n        if (res.result.code != 200) {\r\n          uni.showModal({\r\n            title: \"温馨提示\",\r\n            content: \"你所输入的内容可能含有违法违规内容，不支持进行下一步操作\"\r\n          })\r\n          return\r\n        }\r\n```\r\n\r\n## 效果展示\r\n\r\n![微信图片_20191022110949.png][8]\r\n\r\n\r\n  [1]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:28:39.png\r\n  [2]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:32:01.png\r\n  [3]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:18:43.png\r\n  [4]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:34:09.png\r\n  [5]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:35:15.png\r\n  [6]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:45:21.png\r\n  [7]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-12-10T06:54:47.png\r\n  [8]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20191022110949.png",authorId:a,comments:s,views:1807,likes:q,tag:[{tid:e,name:f,order:a,count:a},{tid:h,name:i,order:a,count:a},{tid:54,name:"云函数",order:a,count:a}],category:c,category_id:b,fields:{thumb:"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-22T01:28:39.png"}},{cid:345,title:"局域网DNS欺骗的艺术",created:1562121180,modified:1592285880,text:"## 百度定义\r\nDNS欺骗就是攻击者冒充域名服务器的一种欺骗行为。 \r\n\r\n## 百度原理\r\n如果可以冒充域名服务器，然后把查询的IP地址设为攻击者的IP地址，这样的话，用户上网就只能看到攻击者的主页，而不是用户想要取得的网站的主页了，这就是DNS欺骗的基本原理。DNS欺骗其实并不是真的“黑掉”了对方的网站，而是冒名顶替、招摇撞骗罢了。\r\n\r\n## 为什么会有DNS欺骗？\r\n\u003E 其实DNS欺骗不能叫欺骗，为什么这么说，因为dns解析采取就近原则，意思是说谁能先帮我解析我就听谁的。给你解析一个假的ip就是欺骗。例如本来www.baidu.com 对应ip是202.16.25.78    ，你在本地架设一个dns服务器将www.baidu.com 解析为192.168.100.2 , 这不就等于骗了别人吗。[【1】][1]\r\n\r\n## 如何防护DNS欺骗？\r\n360安全卫士号称可以，防护DNS欺骗\r\n![2019-07-03T02:36:57.png][2]\r\n经实测：DNS防护并未防护成功，而局域网防护却可以找出攻击者IP，和伪装后的DNS服务器IP。但是却无法实际性的抵御DNS攻击。\r\n![2019-07-03T12:32:20.png][3]\r\n\r\n## 被攻击后如何恢复？\r\n1. 改host文件。\r\n2. 指定DNS服务器。\r\n3. 开代理\r\n\r\n## 如何发起攻击？\r\n\u003E 申明：以下目的只有一个就是学习技术，如果有人利用本文技术进行非法操作带来的后果都是操作者自己承担，和本文以及本文作者没有任何关系。\r\n\r\n### 本文环境\r\n`win10 + vmware + kali-linux-2019-02`\r\n其实新一代的win10预览版升级的WSL2已经兼容了很多linux网络设备相关操作了，比如`Nmap`之类的。但是因为WSL的网络连接方式只有`NAT`模式，这样就不利于我测试了，所以我使用的是vmware虚拟机运行KALI，网络模式如下\r\n![2019-07-03T06:21:37.png][4]\r\n\r\n### 1. 查看网络\r\n```shell\r\nifconfig\r\n```\r\n![2019-07-03T06:24:03.png][5]\r\n\r\n由上图可以看到，有两个网络连接，一个`eth0`有线连接，一个`lo`无线设备。因为我装了外置网卡，所以虚拟机下有无线连接。\r\n确保你已经连上你想要攻击的目标网络。\r\n![2019-07-03T06:26:36.png][6]\r\n因为我使用的是有线连接，所以我接下来的操作都是在eth0上操作。\r\n\r\n### 2. 修改DNS文件\r\n```\r\nvim \u002Fetc\u002Fettercap\u002Fetter.dns\r\n```\r\n![2019-07-03T06:28:59.png][7]\r\n\r\n熟悉host文件的小伙伴一看就明白，这一条条都是DNS解析记录嘛。\r\n\r\n我们在文件最后追加\r\n```\r\n* A 192.168.0.131\r\n```\r\n这句话的意思就是，将所有的域名都解析到IP地址为`192.168.0.131`的主机上。而这个是我的kali的本机ip。\r\n\r\n### 3. 发起DNS欺骗\r\n```\r\nettercap -Tq -i eth0 -M arp:remote -P dns_spoof \u002F\u002F\u002F \u002F\u002F\u002F\r\n```\r\n参数就不解释啦`--help`就都知道啦，我只讲思路。\r\n\r\n![2019-07-03T06:34:45.png][8]\r\n\r\n如上图DNS欺骗就已经开始了。\r\n\r\n### 4. 局域网断网攻击\r\n因为上面我将所有的域名地址都解析到了，我的本机IP。而我本地却没有搭建任何web服务，这个时候如果用户访问网站都会出现如下图效果。\r\n![2019-07-03T06:37:21.png][9]\r\n\r\n由于浏览器DNS缓存的问题，此方式可能短期内对近期访问过的网站不起作用。\r\n\r\n### 5. 针对特定网站攻击\r\n假如我对百度很有意见，我见不惯别人使用百度。\r\n```\r\nvim \u002Fetc\u002Fettercap\u002Fetter.dns\r\n```\r\n那么我可以将dns文件修改为\r\n```\r\n*.baidu.com A 192.168.0.131\r\n```\r\n这样只要别人访问百度就会出现\r\n![2019-07-03T06:37:21.png][10]\r\n\r\n但是这样有个问题，这样攻击久了，是个人都会觉得奇怪。百度这么大的公司怎么会长时间访问不了呢？\r\n\r\n### 6. 针对特定网站搭建空壳网站\r\n为了避免被别人怀疑，我需要搭建一个空壳百度。\r\n- 首先浏览器下载百度首页。\r\n- 搭建一个静态网站，展示百度首页。\r\n- 执行DNS欺骗\r\n\r\n然后就会出现以下效果\r\n![2019-07-03T07:05:08.png][11]\r\n为了区别是我搭建的，我把百度一下改成了小度一下。\r\n但是细心的小伙伴会发现，左上的`https`变成了红色不安全字样，这是因为我搭建的web服务签不了`www.baidu.com`证书的原因。我只是随便签了一个HTTPS证书。\r\n\r\n### 7. 针对某些局域网认证上网的账号密码钓鱼\r\n截止目前，我们已经做到了断掉了局域网的网络，并将所有网站跳转至搭建网站的效果。看到这里，有没有觉得很熟悉？对了，妥妥的需认证网络的操作。\r\n接下来我们以`家里蹲大学`的校园网认证系统为例，模拟一个`搭建钓鱼校园网认证系统并盗取密码`的过程。\r\n\r\n- 第一步：扒下家里蹲大学认证首页的网页文件\r\n![2019-07-03T07:27:53.png][12]\r\n- 第二步：搭建钓鱼网站\r\n- 第三步：拦截局域网所有DNS解析请求，将所有网站解析到搭建的钓鱼网站。\r\n- 第四步：修改表单信息的提交地址\r\n- 第五步：写一个接收表单数据的接口\r\n\r\n### 8. 模拟中招过程\r\n陈小美吃完饭，到图书馆坐下，想刷会微博。突然发现，微博上不去了。显示的是\r\n![2019-07-03T08:51:32.png][13]\r\n对于这个界面，小美一点都不陌生。因为这是即将学校的校园网的认证系统的前兆。小美熟练的输入账号密码。一点也不知道接下来即将发生什么。\r\n![2019-07-03T09:20:29.png][14]\r\n然而，在小美提交账号密码的那一刻，我收到了一个好东西。\r\n![2019-07-03T10:08:28.png][15]\r\n接下来就是开始表演的时候，我用她的账号登录了以下网站。\r\n\r\n- 学籍信息，看到了她的照片，知道了她的手机号，QQ号，名字，家住何处，家里多少成员，家庭年收入多少，哪个高中毕业。以此来筛选是否符合择偶要求。\r\n- 教务处，知道了她大几，什么专业，学分绩点多少，选修了什么课程。以此来判断是否有共同的兴趣爱好。\r\n- 图书馆，了解他是否热爱阅读，喜欢什么类型的书籍。来判断是否处得来。\r\n- 饭卡消费记录，以此来判断她的消费水平，以及她喜欢在哪里吃饭。来判断是否养得起。\r\n- 校园论坛，了解她的世界观与价值观，以及是否是个谈吐优雅的女子。判断能否一起面对生活。\r\n\r\n然后：我加了她的QQ，以小师弟寻求帮助的名义加了她，先混个脸熟。接着，我开始在QQ空间发一些符合她世界观和价值观的说说，以此来获取她的共鸣。我知道她可能不看QQ空间，但是我保持着几乎每周一次的个性签名更新。并且在个性签名更新后的1-12个小时内随机（使用C++生成随机数）找她聊关于她在图书馆所看书籍的一些想法（我猜她会感兴趣）。这样我可以保证无论她使用哪个平台哪个版本的QQ都可以看到，在她心中种下一颗我是一个与她灵魂相似的人的种子。学期末，我知道她选了什么课程，这门课程什么时候考试。这是一门大学恶梦课程，我知道她肯定要去图书馆复习，所以我借共同复习借口约了她去图书馆。之后的时间，我间歇性的约她去图书馆，因为我深知要想被女生喜欢，千万不可表现过度。一定要保持一个较为舒适的距离，为这颗种子慢慢浇水。但在不约她的时间里，我也会在食堂“偶遇”她，之所以说是“偶遇”，因为我已经对她的饮食习惯分析得一清二楚。几次过后，她会觉得和我好有缘。而其实。。。偶然之中必有必然。我甚至比她还要了解她的习惯，喜好。她觉得我很贴心^-^，但是我到现在还没有告诉她，为什么我们会遇见。看似上天的安排，实则是我的安排。我不去想是否会赢得爱情，既然钟情于玫瑰，就要勇敢的吐露真诚。或许，这便是一种成熟吧！\r\n\r\n\r\n  [1]: https:\u002F\u002Fblog.csdn.net\u002Fqq_38228830\u002Farticle\u002Fdetails\u002F81989301\r\n  [2]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T02:36:57.png\r\n  [3]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T12:32:20.png\r\n  [4]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:21:37.png\r\n  [5]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:24:03.png\r\n  [6]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:26:36.png\r\n  [7]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:28:59.png\r\n  [8]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:34:45.png\r\n  [9]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:37:21.png\r\n  [10]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T06:37:21.png\r\n  [11]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T07:05:08.png\r\n  [12]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T07:27:53.png\r\n  [13]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T08:51:32.png\r\n  [14]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T09:20:29.png\r\n  [15]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T10:08:28.png",authorId:a,comments:a,views:695,likes:g,tag:[{tid:58,name:"网络空间安全",order:a,count:a}],category:c,category_id:b,fields:{thumb:"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-03T02:36:57.png"}},{cid:319,title:"一些优秀的软件及网站推荐",created:1561974300,modified:1573730474,text:"\u003E 分享一些个人常用的效率软件\r\n## navicat——功能强大的数据库连接软件\r\n\r\n![navicat界面预览](https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F2019_7_1\u002F02.Product_01_Premium_Windows_01_Mainscreen.png)\r\n\r\n\u003E 推荐理由：极具现代化又功能强大的数据库管理软件，远摔那些上古时代软件好几条街\r\n\r\n## frp——配置容易支持多方式(dns,ssh,http..)的内网穿透软件\r\n\r\n![frp功能一览](https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F2019_7_1\u002F1561974722973.png)\r\n\r\n\u003E 推荐理由：配置只需几秒即可上线，而且支持多种协议，常备测试的好软件。不过需要自己有服务器，不过如果你没有的话。。。。那你还写什么代码？！\r\n\r\n## Xshell——优雅方便的远程ssh连接软件\r\n\r\n![Xshell官方介绍](https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F2019_7_1\u002F1561974900401.png)\r\n\r\n![enter description here](https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F2019_7_1\u002Fxshell-screenshot-2.png)\r\n\r\n\u003E 推荐理由：Xshell自诩业界最强shh客户端，我觉得它一点也没有夸大，无论从美观还是功能性来看，它都能配上业界最强。\r\n\r\n## Xftp——同上，优雅的sftp连接软件\r\n\r\n![index-xftp-3.png][1]\r\n\r\n因为和xshell是一家，个人觉得也是个非常方便的软件。\r\n\r\n## 360压缩——无广告的轻便的压缩软件\r\n这个就不介绍了，除了给你右键加了很多菜单外（新版可以改成一个），应该是目前我用过的最舒服的压缩软件了。\r\n\r\n## typecho——轻量级的博客软件\r\n\r\n![2019-07-01T13:25:57.png][2]\r\n\r\n别看官网极其简陋，但是性能确是极强，再给它换套皮肤，也是可以很好看的，我的博客就是typecho搭建的。\r\n\r\n## 新媒体管家——全网平台文章同步软件(chrome插件)\r\n![2019-07-02T10:11:39.png][3]\r\n\r\n看，一键全网发布，多爽\r\n\r\n## V2ray——隐藏身后的**软件（ws+tls+cdn)\r\n这是个啥软件？我不知道。。。自行百度？\r\n\r\n## 宝塔面板——小白都能轻松管理服务器的软件\r\n![2019-07-02T10:14:21.png][4]\r\n\r\n## AppNode——免费优雅的多服务器管理软件\r\n![2019-07-02T10:15:14.png][5]\r\n![2019-07-02T10:15:39.png][6]\r\n\r\n## WeGesture——windows下的一款鼠标手势快捷键\r\n![2019-07-02T10:16:27.png][7]\r\n我一般用它来管理虚拟桌面，单显示器穷尽所能\r\n\r\n## 小书匠——性感优雅的markdown编辑软件\r\n![小书匠][8]\r\n\r\n## VScode——好看且实用的代码编辑器\r\n![2019-07-02T10:19:56.png][9]\r\n\r\n## Hbuilderx——现在一般用来写微信小程序\r\n![2019-07-02T10:21:24.png][10]\r\n\r\n用得最爽的代码提示，有种想我所知的感觉\r\n\r\n## 光影魔术手\r\n\r\n一个可以一键排版各种证件照的工具\r\n\r\n![光影魔术手智能排版][11]\r\n\r\n## ScreenToGif\r\n录屏转gif\r\n\r\n## RaiDirver\r\n挂载网盘变本地磁盘\r\n\r\n\u003E 附加一些常用网站\r\n\r\n## 墨刀——原型图设计网站\r\n## 稿定设计——海报设（piao）计（qie）软件\r\n## 七牛云——国内优秀的内容存储平台\r\n## cloudFlare——保护并加速任何线上网站\r\n## justmysocks\r\n## 3d66.com-破解软件集群\r\n## remove.bg——快速移除背景图片\r\n\r\n\r\n  [1]: http:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Findex-xftp-3.png\r\n  [2]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002Ftypecho.png\r\n  [3]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:11:39.png\r\n  [4]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:14:21.png\r\n  [5]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:15:14.png\r\n  [6]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:15:39.png\r\n  [7]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:16:27.png\r\n  [8]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F%E5%B0%8F%E4%B9%A6%E5%8C%A0\u002F2017_12\u002F1514090290646.jpg\r\n  [9]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:19:56.png\r\n  [10]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-07-02T10:21:24.png\r\n  [11]: https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002Fblog\u002Ftypecho\u002F2019-10-09T09:06:33.png",authorId:a,comments:a,views:875,likes:d,tag:[{tid:37,name:"软件分享",order:a,count:a}],category:c,category_id:b,fields:{thumb:"https:\u002F\u002Fblog.cdn.thinkmoon.cn\u002F2019_7_1\u002F123_15.png"}},{cid:229,title:"使用zsh让windows cmd变得性感又迷人",created:1552355400,modified:1576741293,text:"## 引言\r\n\u003E 首先看一张最终效果图\r\n\r\n![终端.PNG][1]\r\n\r\n## 大致思路\r\n\u003E 使用win10的linux子系统，安装zsh，默认切换zsh终端。（什么鬼，这和装虚拟机有什么不一样？放心，不一样的，慢慢看）\r\n\r\n## 为什么要需要它？\r\n1. cmd太丑，cmder略慢，然后就是命令的不统一性。\r\n2. 一个好看的终端可以让程序员变得开心又愉快。\r\n\u003E 如下\r\n\r\n![截图.PNG][2]\r\n\r\n## 准备工作\r\n1. win10内部版本16215.0以上\r\n2. 打开win10开发人员模式\r\n3. 勾选控制面板\u003E程序\u003E启用windows功能\u003Elinux子系统\r\n4. 重启\r\n5. 打开应用商店\u003E搜索linux, 选择你喜欢的linux发行版安装，我选的是ubuntu18.04，如果卸载了应用商店可以自行百度开启方式\r\n\r\n-- 至此：linux系统安装成功\r\n## 在linux子系统中需要做的操作\r\n### 在开始栏运行ubuntu\r\n\u003E 或者win+R，键入wsl运行。\r\n### 安装zsh\r\n```shell\r\nsudo apt-get install zsh\r\n```\r\n\r\n## 设置默认shell\r\n```shell\r\nchsh -s \u002Fbin\u002Fzsh\r\n```\r\n\r\n### 安装oh-my-zsh\r\n```shell\r\nsh -c \"$(wget https:\u002F\u002Fraw.githubusercontent.com\u002Frobbyrussell\u002Foh-my-zsh\u002Fmaster\u002Ftools\u002Finstall.sh -O -)\"\r\n```\r\n\r\n### (可选项)修改主题\r\n```shell\r\nnano ~\u002F.zshrc\r\n```\r\n\u003E 我的修改如下\r\n\r\n![2019-03-12T07:02:46.png][3]\r\n\r\n### 让bash每次打开自动执行zsh\r\n重新打开终端窗口，我们目前的效果是这样的。\r\n\r\n![ssh1.PNG][4]\r\n\r\n\u003E 然后就会发现，这丫的，这怎么跟我的win10保持文件共享呢？\r\n\r\n## 让linux子系统默认打开win10用户根目录\r\n1. 首先找到`C\\\\windows\\\\system32\\\\wsl.exe`，复制到你的win10用户根目录。\r\n2. 再为根目录的bash.exe创建快捷方式发送到桌面。\r\n3. 运行\r\n\r\n\u003E 看，好神奇\r\n\r\n![2019-03-12T07:14:16.png][5]\r\n\r\n\u003E 可是，，，难道每次我运行命令都要回到桌面启动？而且就不能像ubuntu那样ctrl + alt + T打开？\r\n\r\n## 为适应win10的一些配置\r\n1. 右键点击桌面快捷方式，选择快捷键，同时按ctrl + alt + T设置快捷键。\r\n2. 桌面右键\u003E选择查看\u003E取消勾选显示桌面图标\r\n\u003E 测试ctrl + alt + T，我可能是为数不多的秀win10桌面的程序员:) （好像还是没有linux的好看？）\r\n\r\n![2019-03-12T07:23:44.png][6]\r\n\r\n\u003E 在vs code里配置默认终端为wsl.exe。效果展示\r\n\r\n![2019-03-12T07:27:41.png][7]\r\n\r\n## 结束语\r\n因为截图会变模糊，实际效果比这好看的多，嗯，又多了一个装逼的东西。\r\n\r\n  [1]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F3090454687.png\r\n  [2]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F941670490.png\r\n  [3]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F1635360079.png\r\n  [4]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F1686441689.png\r\n  [5]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F1721161329.png\r\n  [6]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F360849061.png\r\n  [7]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F813746774.png",authorId:a,comments:d,views:3786,likes:d,tag:[{tid:30,name:"折腾",order:a,count:a}],category:c,category_id:b,fields:{thumb:"https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2019\u002F03\u002F3090454687.png"}},{cid:219,title:"在微信小程序里使用async\u002Fawait异步API及浅谈各种异步",created:1551844440,modified:1551858397,text:"\u003E 想达到本文效果，需使用wepy框架。不了解wepy？转[https:\u002F\u002Ftencent.github.io\u002Fwepy\u002Findex.html](https:\u002F\u002Ftencent.github.io\u002Fwepy\u002Findex.html)\r\n## 什么是async\u002Fawait?\r\n\u003E 在最新的ES7（ES2017）中提出的前端异步特性：async、await。\r\nasync顾名思义是“异步”的意思，async用于声明一个函数是异步的。而await从字面意思上是“等待”的意思，就是用于等待异步完成。也就是我们平常所说的异步等待。不过需注意`await只能在async函数中使用`。\r\n\r\n## 为什么需要async\u002Fawait?\r\n在async\u002Fawait之前，我们有三种方式写异步代码\r\n### 1. 嵌套回调\r\n其中思想就是,a函数执行完了得到的结果后在执行b。\r\n形如\r\n```javascript\r\nwx.getSetting({\r\n      success(res) {\r\n        console.log(res.authSetting['scope.userLocation']);\r\n        if (!res.authSetting['scope.userLocation']) {\r\n          wx.authorize({\r\n            scope: 'scope.userLocation',\r\n            fail(res) {\r\n              Toast('无法获取位置,采用默认排序');\r\n            }\r\n          });\r\n        } else {\r\n          wx.getLocation({\r\n            type: 'wgs84',\r\n            success(res) {\r\n              _this.setData({ location: res });\r\n              console.log('您的位置信息:', res);\r\n            },\r\n            fail() {\r\n              Toast('无法获取位置,采用默认排序');\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n```\r\n\u003E 上面的代码你不用看，就会感觉。这啥东西？乱七八糟的。这就是嵌套回调。很不巧，原生微信小程序开发就是这样的。\r\n\r\n### 2. 以Promise为主的链式回调\r\n\u003E 所谓Promise，简单来说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。形如\r\n```javascript\r\nvar p1 = new Promise((resolve, reject) =\u003E {\r\n setTimeout(resolve, 1000, 'done');\r\n })\r\np1.then(data=\u003E{\r\n console.log(data); \u002F\u002F done\r\n})\r\n```\r\n如果你的函数够多的话，那么就会一直then()下去。\r\n\u003E为了优雅，Promise提供了一个方法`Promise.all([p1,p2,p3])` ，用于将多个Promise实例，包装成一个新的Promise实例。接收的参数是一个数组,p1、p2、p3都是Promise对象\r\n分两种情况：\r\n1. p1、p2、p3的状态都是resolve的时候，Promise.all的状态才会变成resolve；\r\n2. 只要p1、p2、p3中有一个的状态为reject，那么Promise.all的状态就会变成reject；\r\n所以我们可以用Promise.all()来解决多个异步依赖调用。\r\n\r\n### 3. 使用Generators\r\n```javascript\r\nfunction *main() {\r\n    var x = yield 1;\r\n    var y = yield x;\r\n    var z = yield (y * 2);\r\n}\r\n```\r\n\u003E 上面代码中的每一条语句都会按顺序一个一个地执行。Yield关键字标明了代码中被阻塞的点（只能被generator函数自己阻塞，外部代码不能阻塞generator函数的执行），但是不会改变*main()函数中代码的执行顺序。这段代码很简单！\r\n\r\n但是，这三种写起来都还是不够优雅，ES7做了优化改进，async\u002Fawait应运而生，async\u002Fawait相比较Promise 对象then 函数的嵌套，与 Generator 执行的繁琐(需要借助co才能自动执行，否则得手动调用next())， Async\u002FAwait 可以让你轻松写出同步风格的代码同时又拥有异步机制，更加简洁，逻辑更加清晰。\r\n\r\n\u003E 示例\r\n```javascript\r\nasync a(){};\r\nconst b = await a();\r\n```\r\n\r\n## 这样做的好处？\r\n\u003E 唔，你不觉得一个优雅的代码就该是这样吗？好吧，其实这样更容易符合我们平常的思维逻辑\r\n\r\n## 回到本文的题目\r\n\u003E 在wepy1.4.1以后的版本（之前的版本都是默认开启的），默认不支持async\u002Fawait，需要用户手动加入，方法如下：\r\n### 进入项目根目录，安装runtime包\r\n```\r\nnpm install wepy-async-function --save\r\n```\r\n### 修改wepy.config.js加入runtime配置\r\n```\r\n        babel: {\r\n            \"presets\": [\r\n                \"env\"\r\n            ],\r\n            \"plugins\": [\r\n                \"transform-export-extensions\",\r\n                \"syntax-export-extensions\"\r\n            ]\r\n        }\r\n```\r\n### 在app.wpy中引入引入runtime包\r\n```\r\nimport 'wepy-async-function'; \r\n```\r\n### 在app.wpy中使API promise化\r\n\u003E 重写构造函数，使其支持async\u002Fawait。\r\n```\r\nexport default class extends wepy.app {\r\n    constructor () {\r\n        super();\r\n        this.use('promisify');\r\n    }\r\n}\r\n```\r\n### 重启编译\r\n```\r\nwepy build --no-cache\r\n```\r\n\r\n## 使用示例\r\n\u003E 在wepy框架官方文档中已说明，对所有的微信小程序都支持async\u002Fawait操作。只需将形如`wx.getuserInfo`改写为`wepy.getuserInfo`即可\r\n```\r\nasync userInfoAsync() {\r\n    const _this = this;\r\n    const data = await wepy.getSetting(); \u002F\u002F获取设置数据\r\n    if (data.authSetting['scope.userInfo']) { \u002F\u002F判断是否有获取用户信息的权限\r\n      await wepy.login(); \u002F\u002F登录\r\n      let data = await wepy.getUserInfo();\u002F\u002F获取用户信息\r\n      _this.userInfo = data.userInfo;\u002F\u002F采用wepy框架修改过后的功能，支持直接赋值数据绑定\r\n      _this.$apply(); \u002F\u002F在async的函数中，必须主动执行`$apply()`来进行脏数据检查\r\n    }\r\n  }\r\nasync onShow() {\r\n    this.userInfoAsync(); \u002F\u002F调用async函数\r\n  }\r\n```\r\n\u003E 以上代码实现了异步同步用户userInfo的功能\r\n\r\n参考文献:\r\n1. [使用Promise链式调用解决多个异步回调的问题](https:\u002F\u002Fwww.jb51.net\u002Farticle\u002F103068.htm)\r\n2. [关于js的callback回调函数以及嵌套回调函数的执行过程理解](https:\u002F\u002Fblog.csdn.net\u002Fsamt007\u002Farticle\u002Fdetails\u002F54647361)\r\n3. [ES6 Generators并发](https:\u002F\u002Fwww.cnblogs.com\u002Fjaxu\u002Fp\u002F6592210.html)\r\n4. [ES7前端异步玩法：async\u002Fawait理解](https:\u002F\u002Fwww.cnblogs.com\u002FleungUwah\u002Fp\u002F7932912.html)\r\n5. [理解 JavaScript 的 async\u002Fawait](https:\u002F\u002Fsegmentfault.com\u002Fa\u002F1190000007535316?utm_source=tag-newest)\r\n6. [Async\u002Fawait学习](https:\u002F\u002Fsegmentfault.com\u002Fa\u002F1190000013292562?utm_source=channel-newest)\r\n7. [浅谈async\u002Fawait](https:\u002F\u002Fwww.jianshu.com\u002Fp\u002F1e75bd387aa0)\r\n8. [wepy项目中使用async await](https:\u002F\u002Fgithub.com\u002FTencent\u002Fwepy\u002Fwiki\u002Fwepy%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8async-await)",authorId:a,comments:a,views:2893,likes:g,tag:[{tid:e,name:f,order:a,count:a}],category:c,category_id:b,fields:{}},{cid:15,title:"（超详细）快速搭建一个简易微信小程序后台网站（上）",created:1542336180,modified:1547608423,text:"\u003E 本文实践平台：腾讯云（qcloud.com)\r\n\r\n首先我们来看看腾讯云官方的解决方案示意图\r\n![0.png][1]\r\n\r\n看懂了吗？看没看懂都没关系我们开始走一遍就好了。大致步骤如下：\r\n\r\n1.  购买腾讯云微信小程序解决方案\r\n2.  部署 mysql 实例到云数据库\r\n3.  部署网站到服务器，使网站外网可访问\r\n4.  将网站与数据库连接起来\r\n5.  配置 SSL 证书，使网站可 https 访问\r\n6.  构建负载均衡，使用户可以通过负载均衡的方式访问\r\n7.  制作服务器镜像，将可成功访问的服务器复制\r\n8.  新建 N（N&gt;0)台服务器，将服务器重装为自定义镜像\r\n9.  test\r\n\r\n详细如下：\r\n\r\n- **购买腾讯云微信小程序解决方案**\r\n\r\n1.  进入腾讯云官网（https:\u002F\u002Fwww.qcloud.com)\r\n\r\n![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT81w3Mv9yBTGgmSvKcBju1uadFd3HxkIsmC3JStepdwjwJ1Q8owjzybw\u002F0?wx_fmt=png)\r\n\r\n2. 选择解决方案&gt;微信小程序解决方案\r\n\r\n![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8ViaAk15f8kAEyhAJuTfIr9vltggTKgXo39qmF5JBvnM8PFEhngfzODg\u002F0?wx_fmt=png)\r\n\r\n就选择 3 元新购活动吧，我已经购买过了，就不再这儿演示怎么购买了。 \r\n3. 购买成功之后腾讯云会下发资源。\r\n\r\n![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8Kb5lBHGuphzvRAX6CEqiayoPW51UTINIaDswGyfGqWRV9xF2oPWGO9w\u002F0?wx_fmt=png)\r\n\r\n\u003E succeed：此过程成功标志为资源下发成功，以及收到如下站内信。\r\n\u003E ![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8RVq3z8fPKpnGYa1qc0FBx5HpXxQVlNV0Uodz9kkibrEJfWl86GqgWRg\u002F0?wx_fmt=png)\r\n\r\n- **部署 mysql 实例到云数据库**\r\n\r\n---\r\n\r\n![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8DyOIhBzvCORgORmgwG4fGAYTkaxHfQcQgkFpajkyXSNlNhQ2MSsRNA\u002F0?wx_fmt=png)\r\n\r\n1.  根据上图所提供的地址，使用数据库连接工具（如 Navicat）连接数据库进行数据传输。_\r\n![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8qbsBibSriaB8fI7XcO5URGINWEiceic9wFVDX10bQHzK2m1s0tcyBeIqww\u002F0?wx_fmt=png) \r\n2. 数据传输_\r\n![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8gaORVyxXSoAibF5uR0nTCP6NtxdzBTUGcWVgjTaVpDOl4JInyyjm8PA\u002F0?wx_fmt=png)\r\n\u003E succeed：此过程的成功标志为，在远程数据库中可查看到相应的表和数据\r\n\r\n- **部署网站到服务器，使网站外网可访问**\r\n\r\n1.  首先我们对腾讯云下发的 demo 服务器进行重装系统（精神洁癖，不重装不舒服）_\r\n\u003E _注:不重装的话，网站的根目录在\u002Fdata\u002Frelease\u002Fphp_weapp_demo_ \u003E \\_ \u003E * \u003E ** \u003E ![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT8XAaD0icW796pZ17iccHBr3UtfQ7xcWLRzLMbledO0iaxtKISV0eehT3Qw\u002F0?wx_fmt=png) \u003E **\r\n\u003E 我这儿装的是 centOS 6.5。版本不同可能会对应的软件安装方式不同。 2.*为服务器安装 apache\\_ #安装 apache\r\n\u003E root@localhost ~]# yum -y install httpd\r\n\r\n# 开机自启动\r\n\r\n[root@localhost ~]# chkconfig httpd on\r\n\r\n# 启动 httpd 服务\r\n\r\n[root@localhost ~]# service httpd start\r\n\r\n### 安装 apache 一些扩展\r\n\r\nroot@localhost ~]# yum -y install httpd-manual mod_ssl mod_perl mod_auth_mysql\r\n\r\n\u003E succeed：此步骤成功标志为访问http:\u002F\u002Flocalhost  或 http:\u002F\u002F本机IP  ，应该会看到 Apache 的测试页面\r\n\u003E\r\n\u003E 这里需要注意 iptables 的设置哦。\r\n\u003E\r\n\u003E ![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT871Nw7tFgLxAUBJ7IB2hO0ekbdHa62nickEEHURhxPUHqpKMRR9UOnng\u002F0?wx_fmt=png) \r\n\r\n### 安装 php[root@localhost ~]# yum -y install php php-mysql\r\n\r\n### 安装 php 常用扩展\r\n```shell\r\n[root@localhost ~]# yum search php\r\n[root@localhost ~]# yum -y install gd php-gd gd-devel php-xml php-common php-mbstring php-ldap php-pear php-xmlrpc php-imap\r\n ### 重启 httpd 服务，这一步很重要\r\n[root@localhost ~]# service httpd restart\r\n然后，我们提供 php 页面，测试\r\n[root@localhost ~]# cd \u002Fvar\u002Fwww\u002Fhtml\u002F\r\n[root@localhost html]# vi index.php\r\n```\r\n\r\n```\r\n\u003C?php\r\n    phpinfo();\r\n\u003Cphp\u003E\r\n```\r\n\r\n\u003E succeed：此步骤成功标志为,出现传说中的 phpinfo()界面\r\n\u003E\r\n\u003E ![](http:\u002F\u002Fmmbiz.qpic.cn\u002Fmmbiz_png\u002FsnMia4gXEkc0qunE7hIzVaWicvcdDTdqT83PHV8PEhKTO5YqhMTKdLhQsKfv1WYelrev4eMPqwKkgZ6vbfImcjAA\u002F0?wx_fmt=png)\r\n\r\n\u003E 后记：不知不觉，已经写了有这么多了！本来想一篇写完的，看了一下可能篇幅实在是太长了。先这样吧。敬请期待下一篇吧！\r\n\u003E\r\n\u003E 到了这步的时候，你只需要把网站源代码（例如博客，或者自己开发的网站）上传到目录\u002Fvar\u002Fwww\u002Fhtml\u002F就好了。windows 操作系统可以利用工具（如 winscp）上传。觉得有用的就点赞收藏一下吧。谢谢大家的支持。\r\n\r\n\r\n  [1]: https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2018\u002F12\u002F2496184131.png",authorId:a,comments:d,views:3605,likes:g,tag:[{tid:r,name:"微信开发",order:a,count:a}],category:c,category_id:b,fields:{thumb:"https:\u002F\u002Fwww.thinkmoon.cn\u002Fusr\u002Fuploads\u002F2018\u002F12\u002F2496184131.png"}}],total:l,size:s,current:g,orders:[],optimizeCountSql:j,hitCount:false,countId:k,maxLimit:k,searchCount:j,pages:d}},state:{error:k},_errors:{},serverRendered:j,config:{public:{TITLE:"指尖魔法屋-醉月思的博客",VERSION:"0.1.5 · build-20220508-0205",KEYWORDS:["thinkmoon","指尖魔法屋","醉月思的博客"],DESCRIPTION:"web前端开发工程师、面向高保真编程、总结与记录是两个极其优秀的学习习惯、对知识和技术保持敬畏之心！",baseUrl:"https:\u002F\u002Fservice.thinkmoon.cn\u002Fapi"},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:""}}}}(0,14,"教程分享",2,18,"微信小程序",1,35,"uni-app",true,null,17,4,61,"vuejs",1588343352,6,5,10))</script><script type="module" src="/_nuxt/entry-4033bfcf.mjs" crossorigin></script><script type="module" src="/_nuxt/default-ab4b1d95.mjs" crossorigin></script><script type="module" src="/_nuxt/_pageIndex_-08429fca.mjs" crossorigin></script>
</body>

</html>