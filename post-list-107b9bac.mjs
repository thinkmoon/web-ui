var w=Object.defineProperty,z=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var h=(e,t,a)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,c=(e,t)=>{for(var a in t||(t={}))F.call(t,a)&&h(e,a,t[a]);if(u)for(var a of u(t))x.call(t,a)&&h(e,a,t[a]);return e},g=(e,t)=>z(e,D(t));import{_ as E,d as _,P as Y,r as s,o as k,c as v,f as i,w as o,k as P,e as p,t as d,j as S}from"./entry-73062346.mjs";const $=_({data(){return{tableData:[],pagination:{total:0,index:0,size:10}}},created(){this.loadData()},methods:{addPost(){this.$router.push("/admin/editor")},loadData(){Y.getList({current:this.pagination.index,size:this.pagination.size}).then(e=>{this.tableData=e.records,this.tableData.forEach(t=>{if(t.fields instanceof Array){const a={};t.fields.forEach(r=>{a[r.name]=r.value}),t.fields=a}}),this.pagination.index=e.current,this.pagination.total=e.total})},handleSizeChange(e){this.pagination.size=e,this.loadData()},handleCurrentChange(e){this.pagination.index=e,this.loadData()},handleEdit(e,t){this.$router.push(`/admin/editor?cid=${t.cid}`)}}}),y=_(g(c({},$),{__name:"post-list",setup(e,{expose:t}){t();const a={formatTime:P};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}));function B(e,t,a,r,H,M){const l=s("el-table-column"),f=s("el-image"),m=s("el-link"),b=s("el-table"),C=s("el-pagination");return k(),v("div",null,[i(b,{data:e.tableData,height:"960",stripe:""},{default:o(()=>[i(l,{prop:"cid",label:"\u5E8F\u53F7",width:"80",align:"center"}),i(l,{label:"\u7F29\u7565\u56FE",prop:"title",width:"100"},{default:o(n=>[i(f,{src:n.row.fields.thumb,fit:"scale",style:{width:"180px",height:"60px"}},null,8,["src"])]),_:1}),i(l,{prop:"title",label:"\u6807\u9898",width:"320"},{default:o(n=>[i(m,{onClick:T=>e.handleEdit(n.$index,n.row)},{default:o(()=>[p("strong",null,d(n.row.title),1)]),_:2},1032,["onClick"])]),_:1}),i(l,{prop:"desc",label:"\u6458\u8981",width:"600"},{default:o(n=>[S(d(n.row.fields.desc),1)]),_:1}),i(l,{prop:"created",label:"\u521B\u5EFA\u65F6\u95F4"},{default:o(n=>[p("span",null,d(r.formatTime(n.row.created*1e3,"YYYY/MM/DD HH:mm:ss")),1)]),_:1}),i(l,{prop:"modified",label:"\u66F4\u65B0\u65F6\u95F4"},{default:o(n=>[p("span",null,d(r.formatTime(n.row.modified*1e3,"YYYY/MM/DD HH:mm:ss")),1)]),_:1})]),_:1},8,["data"]),i(C,{currentPage:e.pagination.index,"onUpdate:currentPage":t[0]||(t[0]=n=>e.pagination.index=n),"page-sizes":[10,20,30,40],"page-size":e.pagination.size,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])])}var N=E(y,[["render",B]]);export{N as default};
