import{T as g}from"./components.fa647b49.js";import{_ as y}from"./PostList.1c85bf8a.js";import{a as x,bB as A,b9 as C,r as E,b as T,j as i,w as h,u as r,o as B,t as b,x as m}from"./entry.1e6957bb.js";import{u}from"./asyncData.cd9ebb99.js";import{u as v}from"./config.878b087e.js";import{C as w}from"./CategoryApi.622bb93e.js";import{A as L}from"./ArticleApi.b4a64146.js";import"./composables.f8751a8f.js";import"./TimeUtils.57e65e47.js";import"./RequestAdapter.5a97ef36.js";import"./cookie.ddc8e2b4.js";const G=x({__name:"[pageIndex]",async setup(D){let t,n;const l=v(),o=A(),p={total:0,current:0};p.current=Number(o.params.pageIndex);const[{data:f},{data:_}]=([t,n]=C(()=>Promise.all([u("category",()=>w.getCategory({name:o.params.name})),u("post",()=>L.getList({...p,category:o.params.name}))])),t=await t,n(),t),c=E(_.value.records);return c.forEach(e=>{if(e.fields instanceof Array){const s={};e.fields.forEach(a=>{s[a.name]=a.value}),e.fields=s}}),(e,s)=>{const a=g,d=y;return B(),T("div",null,[i(a,null,{default:h(()=>[b('\u5206\u7C7B"'+m(r(f)[0].name)+'"\u4E0B\u7684\u6587\u7AE0 | '+m(r(l).TITLE),1)]),_:1}),i(d,{"post-list":r(c)},null,8,["post-list"])])}}});export{G as default};
